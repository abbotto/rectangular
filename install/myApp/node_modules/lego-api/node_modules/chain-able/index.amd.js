define("chain-able",function(){"use strict";function t(t){Object.defineProperty(t,"length",{configurable:!0,enumerable:!1,get:function(){return this.store.size}}),Object.defineProperty(t,g,{configurable:!0,enumerable:!1,value:function(e,r){return e&&(Object.prototype.isPrototypeOf.call(e,t)||!!e.className||!!e.parent||!!e.store)}})}function e(t){return O(t)&&!["[object RegExp]","[object Date]"].includes(w(t))}function r(t){return E(t)?[]:{}}function n(t,n){return!0===n.clone&&e(t)?s(r(t),t,n):t}function o(t,r,o){var i=t.slice();return r.forEach(function(r,u){void 0===i[u]?i[u]=n(r,o):e(r)?i[u]=s(t[u],r,o):-1===t.indexOf(r)&&i.push(n(r,o))}),i}function i(t,r,o){var i={};return e(t)&&Object.keys(t).forEach(function(e){i[e]=n(t[e],o)}),Object.keys(r).forEach(function(u){e(r[u])&&t[u]?i[u]=s(t[u],r[u],o):i[u]=n(r[u],o)}),i}function s(t,e,r){if(E(e)){var o=r.arrayMerge;return E(t)?o(t,e,r):n(e,r)}return i(t,e,r)}function u(t,e){return t[0]===e[0]&&t[1]===e[1]}function a(t){return u.bind(null,t)}function c(){return{arrayMerge:o,stringToArray:!0,boolToArray:!1,boolAsRight:!0,ignoreTypes:["null","undefined","NaN"],debug:!0}}function p(t,e,r){if(void 0===r&&(r={}),t===e)return t;var n=Object.assign(c(),r),o=n.ignoreTypes,i=n.stringToArray,u=n.boolToArray,p=n.clone,f=[k(t),k(e)];if(!0===o.includes(f[0]))return e;if(!0===o.includes(f[1]))return t;var h=a(f);switch(!0){case h(["boolean","boolean"]):return u?[t,e]:e;case h(["string","string"]):return i?[t,e]:t+e;case h(["array","string"]):return(p?t.slice(0):t).concat([e]);case h(["string","array"]):return(p?e.slice(0):e).concat([t]);default:return s(t,e,n)}}function f(t){this.value=t}function h(t,e,r){var n=[],o=[],i=!0;return function t(s){function u(){if(O(p.node)){p.keys&&p.node_===p.node||(p.keys=K(p.node)),p.isLeaf=0==p.keys.length;for(var t=0;t<o.length;t++)if(o[t].node_===s){p.circular=o[t];break}}else p.isLeaf=!0,p.keys=null;p.notLeaf=!p.isLeaf,p.notRoot=!p.isRoot}var a={},c=!0,p={node:r?l(s):s,node_:s,path:[].concat(n),parent:o[o.length-1],parents:o,key:n.slice(-1)[0],isRoot:0===n.length,level:n.length,circular:null,update:function(t,e){p.isRoot||(p.parent.node[p.key]=t),p.node=t,e&&(c=!1)},delete:function(t){delete p.parent.node[p.key],t&&(c=!1)},remove:function(t){void 0!==p.parent&&(H(p.parent.node)?p.parent.node.splice(p.key,1):delete p.parent.node[p.key],t&&(c=!1))},keys:null,before:function(t){a.before=t},after:function(t){a.after=t},pre:function(t){a.pre=t},post:function(t){a.post=t},stop:function(){i=!1},block:function(){c=!1}};if(!i)return p;u();var f=e.call(p,p.node);return void 0!==f&&p.update&&p.update(f),a.before&&a.before.call(p,p.node),c?(O(p.node)&&!p.circular&&(o.push(p),u(),Z(p.keys,function(e,o){n.push(e),a.pre&&a.pre.call(p,p.node[e],e);var i=t(p.node[e]);r&&Q(p.node,e)&&(p.node[e]=i.node),i.isLast=o==p.keys.length-1,i.isFirst=0==o,a.post&&a.post.call(p,i),n.pop()}),o.pop()),a.after&&a.after.call(p,p.node),p):p}(t).node}function l(t){if(O(t)){var e;if(H(t))e=[];else if(J(t))e=new Date(t.getTime?t.getTime():t);else if(F(t))e=new RegExp(t);else if(z(t))e={message:t.message};else if(G(t))e=new Boolean(t);else if(W(t))e=new Number(t);else if(q(t))e=new String(t);else if(Object.create&&Object.getPrototypeOf)e=Object.create(Object.getPrototypeOf(t));else if(t.constructor===Object)e={};else{var r=t.constructor&&t.constructor.prototype||t.__proto__||{},n=function(){};n.prototype=r,e=new n}return Z(K(t),function(r){e[r]=t[r]}),e}return t}function y(t){var e=O(t)?Object.keys(t).pop():t.method||t;return{method:e,returnee:t.return,key:t.key||e,cb:O(t)?t[e]:null}}function d(t,e){void 0===t&&(t=C),void 0===e&&(e=!0);var r=t,n=e;return!0===n?"object"==typeof r&&!1===tt(r)?(n=r,r=C):n={symbols:!0,define:!0,observe:!0,shorthands:!0,transform:!0,types:!0,dot:!0,extend:!0}:n={},!0===n.extend&&(r=jt(r)),!0===n.define&&(r=ot(r)),!0===n.observe&&(r=ut(r)),!0===n.shorthands&&(r=ct(r)),!0===n.transform&&(r=yt(r)),!0===n.types&&(r=dt(r)),!0===n.dot&&(r=_t(r)),r}var v=Symbol.iterator,g=Symbol.hasInstance,b=Symbol.toPrimitive,m=Function.prototype,_=function(t){t&&(this.parent=t),this.className=this.constructor.name};_.prototype[v]=function(){var t=!!this.entries&&this.entries(),e=this.values(),r=this.store.size,n=!1===t?new Array(r):Object.keys(t);return{i:0,next:function(){var o=this.i,i=o,s=e[o];return t&&(i=n[o]),void 0===i&&void 0===s||r<=o?{value:void 0,done:!0}:(this.i++,{value:[i,s],done:!1})}}},_.prototype[g]=function(t){return _[g](t,this)},_.prototype.end=function(){return this.parent},_.prototype.when=function(t,e,r){return void 0===e&&(e=m),void 0===r&&(r=m),t?e(this):r(this),this},_.prototype.clear=function(){return this.store.clear(),this},_.prototype.delete=function(t){return this.store.delete(t),this},_.prototype.has=function(t){return this.store.has(t)},_.prototype.values=function(){var t=[];return this.store.forEach(function(e){return t.push(e)}),t},_.prototype[b]=function(t){var e=this;if("number"===t&&this.toNumber)return this.toNumber();if("string"===t&&this.toString)return this.toString();if(void 0!==this.getContents){var r=this.getContents();if("string"==typeof r)return r}for(var n=["toPrimative","toNumber","toArray","toJSON","toBoolean","toObject"],o=0;o<n.length;o++)if(void 0!==e[n[o]])return e[n[o]](t);return this.toString()},t(_),t(_.prototype);var j=_,O=function(t){return null!==t&&"object"==typeof t},E=Array.isArray,w=function(t){return Object.prototype.toString.call(t)},k=function(t){return E(t)?"array":typeof t},S=p,x=function(t){return"function"==typeof t},D=function(t){function e(e){var r=this;t.call(this,e),this.store=new Map,this.set=function(t,e){return r.store.set(t,e),r},this.set("onValue",function(){return!0}).set("merger",S),this.get=function(t){return r.store.get(t)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.init=function(t){return new e(t)},e.prototype.onExisting=function(t){return this.set("onExisting",t)},e.prototype.onValue=function(t){return this.set("onValue",t)},e.prototype.obj=function(t){return this.set("obj",t)},e.prototype.merger=function(t){return x(t)?this.set("merger",t):this.set("opts",t)},e.prototype.merge=function(e){for(var r=this,n=this.get("onExisting"),o=this.get("onValue"),i=this.get("opts")||{},s=!0!==this.has("obj")||e?e||{}:this.get("obj"),u=this.get("merger"),a=this.parent.shorthands||[],c=Object.keys(s),p=0,f=c.length;p<f;p++){var h=c[p],l=s[h],y=r.parent[h];o(l,h,r)&&(y instanceof t?r.parent[h].merge(l):y||a.includes(h)?function(t,e){var o=x(r.parent[t]),s=function(t,e){return o?r.parent[t](e):r.parent.set(t,e)};if(!0===r.parent.has(t)){var a=r.parent.get(t);void 0===n?s(t,u(a,e,i)):s(t,n(a,e,i))}else s(t,e)}(h,l):r.parent.set(h,l))}return this.parent},e}(j),A=function(t){var e=Array.from(t.entries()),r={};return 0!==e.length&&(r=e.reduce(function(t,e){var r=e[0],n=e[1];return t[r]=n,t},{})),r},M=function(t){return w(t)&&0===Object.keys(t).length},P=function(t){return t instanceof Map||"[object Map]"===w(t)},N=function(t){return null!==t&&void 0!==t&&!isNaN(t)},T=function(t){return"inspect"===t||"parent"===t||"store"===t||"shorthands"===t||"decorated"===t||"className"===t},R=function(t){return t&&(t instanceof j||P(t))},C=function(t){function e(e){t.call(this,e),this.shorthands=[],this.store=new Map}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.tap=function(t,e){var r=e(this.get(t),S);return this.set(t,r)},e.prototype.from=function(t){var e=this;return Object.keys(t).forEach(function(r){var n=t[r];return e[r]&&e[r].merge?e[r].merge(n):x(e[r])?e[r](n):e.set(r,n)}),this},e.prototype.extend=function(t){var e=this;return t.forEach(function(t){e.shorthands.push(t),e[t]=function(r){return e.set(t,r)}}),this},e.prototype.clear=function(){var t=this;return this.store.clear(),Object.keys(this).forEach(function(e){T(e)||R(t[e])&&t[e].clear()}),this},e.prototype.entries=function(t){void 0===t&&(t=!1);var e=A(this.store);if(!1===t)return e;var r=function(t){return Object.keys(t).forEach(function(r){if(!T(r)){var n=t[r];if(n&&x(n.entries)){Object.assign(e,(o={},o[r]=n.entries(!0)||{},o));var o}}}),{add:r,reduced:e}};return r(this).add(e).reduced},e.prototype.get=function(t){return this.store.get(t)},e.prototype.set=function(t,e){return this.store.set(t,e),this},e.prototype.merge=function(t,e){void 0===e&&(e=null);var r=D.init(this);return null===e?r.merge(t):e(r.obj(t)),this},e.prototype.clean=function(t){return Object.keys(t).reduce(function(e,r){var n=t[r];return N(n)?E(n)&&!n.length?e:M(n)?e:(e[r]=n,e):e},{})},e}(j),I=function(t){if(!t)return[];if(Array.isArray(t))return t;if("string"==typeof t)return t.includes(",")?t.split(","):[t];if(t instanceof Set||t instanceof Map||t.values){var e=[];return t.values().forEach(function(t){return e.push(t)}),e}return[t]},V=Symbol.species,L=Symbol.isConcatSpreadable,U=function(t){function e(e){t.call(this,e),this.store=new Set}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.add=function(t){return this.store.add(t),this},e.prototype.prepend=function(e){return this.store=new Set([e].concat(t.prototype.values.call(this))),this},e.prototype.merge=function(t){var e=this;return I(t).forEach(function(t){return e.store.add(t)}),this},e}(j),$=function(t){return function(e){return function(r){return t.map(function(t){return Object.defineProperty(t,e,{configurable:!0,enumerable:!1,get:function(){return r}})})}}}([U.prototype,U]);$(V)(Set),$(L)(!0);var B=U,F=function(t){return t instanceof RegExp||"[object RegExp]"===w(t)},z=function(t){return t instanceof Error||"[object Error]"===w(t)},G=function(t){return!0===t||!1===t||"[object Boolean]"===w(t)},W=function(t){return"[object Number]"===w(t)||/^0x[0-9a-f]+$/i.test(t)||/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)},q=function(t){return"string"==typeof t||"[object String]"===w(t)},J=function(t){return t instanceof Date||"[object Date]"===w(t)},H=Array.isArray,K=Object.keys,Q=function(t,e){return Object.hasOwnProperty.call(t,e)},X=function(t){return new f(t)},Y=X;f.prototype.get=function(t){for(var e=this.value,r=0;r<t.length;r++){var n=t[r];if(!e||!Q(e,n)){e=void 0;break}e=e[n]}return e},f.prototype.has=function(t){for(var e=this.value,r=0;r<t.length;r++){var n=t[r];if(!e||!Q(e,n))return!1;e=e[n]}return!0},f.prototype.set=function(t,e){for(var r=this.value,n=0;n<t.length-1;n++){var o=t[n];Q(r,o)||(r[o]={}),r=r[o]}return r[t[n]]=e,e},f.prototype.map=function(t){return h(this.value,t,!0)},f.prototype.forEach=function(t){return this.value=h(this.value,t,!1),this.value},f.prototype.reduce=function(t,e){var r=1===arguments.length,n=r?this.value:e;return this.forEach(function(e){this.isRoot&&r||(n=t.call(this,n,e))}),n},f.prototype.paths=function(){var t=[];return this.forEach(function(e){t.push(this.path)}),t},f.prototype.nodes=function(){var t=[];return this.forEach(function(e){t.push(this.node)}),t},f.prototype.clone=function(){var t=[],e=[];return function r(n){for(var o=0;o<t.length;o++)if(t[o]===n)return e[o];if(O(n)){var i=l(n);return t.push(n),e.push(i),Z(K(n),function(t){i[t]=r(n[t])}),t.pop(),e.pop(),i}return n}(this.value)};var Z=function(t,e){if(t.forEach)return t.forEach(e);for(var r=0;r<t.length;r++)e(t[r],r,t)};Z(K(f.prototype),function(t){X[t]=function(e){var r=[].slice.call(arguments,1),n=new f(e);return n[t].apply(n,r)}});var tt=function(t){return/^\s*class\s/.test(t.toString())},et=function(t){return t.replace(/\s+/g,"_").replace(/[_.-](\w|$)/g,function(t,e){return e.toUpperCase()})},rt={Iterator:Symbol.iterator,Primative:Symbol.toPrimitive,Instance:Symbol.hasInstance,Spreadable:Symbol.isConcatSpreadable,Species:Symbol.species}.Primative,nt="536870872@@",ot=function(t,e){return void 0===t&&(t=C),function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.defineGetSet=function(t){var e=this;return t.forEach(function(t){var r=e[t]&&e[t].bind?e[t].bind(e):e[t],n=function(){return r()},o=function(t){return void 0===t&&(t=nt),t===nt?n():r(t)};Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:n,set:o})}),this},e.prototype.extendGetSet=function(t,e){var r=this;return t.forEach(function(t){var e,n,o="string"==typeof t?t:t.name;e=t.get?function(e){return t.get(e)}:function(t){return r.get(o)};var i=t.set?function(e,r,n){return t.set(e,r,n)}:function(t){return r.set(o,t)};n=function(t,r,n){return void 0===t&&(t=nt),t===nt?e():i(t,r,n)},r[et("get-"+o)]=e,r[et("set-"+o)]=n,r.shorthands.push(o),Object.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(t){var r=function(t){return void 0===t&&(t=nt),n(t)};return r[rt]=function(t){return e(nt)},r.valueOf=function(){return e(nt)},r},set:function(t,e,r){return void 0===t&&(t=nt),void 0===e&&(e=nt),void 0===r&&(r=nt),n(t,e,r)}})}),this},e}(t)},it=function(t,e,r){void 0===r&&(r=!1);var n=!0,o=e;return Y(t).forEach(function(t){var i=function(){n=!1};if(!this.isRoot){if("object"!=typeof o)return i();o=o[this.key]}var s=o;this.post(function(){o=s});var u=function(t){return Object.prototype.toString.call(t)};if(this.circular)Y(e).get(this.circular.path)!==s&&i();else if(typeof s!=typeof t)!0===r&&s==t||i();else if(null===s||null===t||void 0===s||void 0===t)s!==t&&i();else if(s.__proto__!==t.__proto__)i();else if(s===t);else if("function"==typeof s)s instanceof RegExp?s.toString()!=t.toString()&&i():s!==t&&i();else if("object"==typeof s)if("[object Arguments]"===u(t)||"[object Arguments]"===u(s))u(s)!==u(t)&&i();else if("[object RegExp]"===u(t)||"[object RegExp]"===u(s))s&&t&&s.toString()===t.toString()||i();else if(s instanceof Date||t instanceof Date)s instanceof Date&&t instanceof Date&&s.getTime()===t.getTime()||i();else{var a=Object.keys(s),c=Object.keys(t);if(a.length!==c.length)return i();for(var p=0;p<a.length;p++){var f=a[p];Object.hasOwnProperty.call(t,f)||i()}}}),n},st={},ut=function(t,e){return void 0===t&&(t=C),function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.observe=function(t,e){var r=this;return void 0===this.observers&&(this.observers=new B(this)),this.observers.add(function(n){var o={},i=I(t);if(i.includes("*"))o=r.entries();else for(var s=0;s<i.length;s++)o[i[s]]=r.get(i[s]);var u=i.join("_");if(it(st[u],o))return r;st[u]=Y(o).clone(),e(o,r)}),this},e}(t)},at=function(t){return function(e,r,n,o,i){var s,u=t.onValid,a=t.onInvalid,c=t.ref,p=t.rethrow;try{return s=c(e,r,n,o,i),0===u?s:u(s)}catch(t){if(0!==a)return a(t);if(!0===p)throw t;return i}}},ct=function(t,e){return function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.encase=function(t,e){var r=this;void 0===e&&(e=!1);var n={onInvalid:0,onValid:0,rethrow:e,ref:this[t].bind(this)};return this.then=function(t){return n.onValid=t,r},this.catch=function(t){return n.onInvalid=t,r},this[t]=at(n),this},e.prototype.bindMethods=function(t){var e=this;return t.forEach(function(t){return e[t]=e[t].bind(e)}),this},e.prototype.chainWrap=function(t,e){var r=this;void 0===e&&(e=null);var n=e||this[t];return this[t]=function(t,e,o){return n.call(r,t,e,o),r},this},e.prototype.setIfEmpty=function(t,e){return!1===this.has("name")&&this.set(t,e),this},e.prototype.return=function(t){return t},e.prototype.wrap=function(t){return"function"==typeof t&&t.call(this,this),this},e}(t)},pt=function(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},ft=function(t,e,r){var n=typeof t;return"string"===n?!!new RegExp(pt(t)).test(e):"function"!==n||t.test?!!t.test(e,r):!!t(e)},ht=function(t){function e(e){t.call(this,e),this.set("keys",[]).set("vals",[]),this.call=this.traverse.bind(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.obj=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),t?this.set("obj",t):this},e.prototype.keys=function(t){return this.set("keys",t)},e.prototype.vals=function(t){return this.set("vals",t)},e.prototype.onMatch=function(t){return void 0===t&&(t=null),null===t?this.set("onMatch",function(t,e){e.remove()}):this.set("onMatch",t)},e.prototype.onNonMatch=function(t){return void 0===t&&(t=null),this.set("onNonMatch",t)},e.prototype.traverse=function(t){!1===this.has("onMatch")&&this.onMatch();var e=this.entries(),r=e.obj,n=e.keys,o=e.vals,i=e.onMatch,s=e.onNonMatch,u=r,a=function(t,e){for(var r=0;r<n.length;r++)if(ft(n[r],t,e))return!0;for(var i=0;i<o.length;i++)if(ft(o[i],e,t))return!0;return!1};return Y(r).forEach(function(t){a(this.key,t)?i(t,this):s&&s(t,this)}),this.set("traversed",u),!0===t?u:this},e.prototype.traversed=function(){return this.get("traversed")},e}(C),lt=function(t){return O(t)||"function"==typeof t},yt=function(t,e){return function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.traverse=function(t){return void 0===t&&(t=!1),new ht(this).obj(!1===t?this.entries(!0):!0===t?this:t)},e.prototype.transform=function(t,e){return void 0===this.transformers&&(this.transformers={}),this.transformers[t]?this.transformers[t].push(e):this.transformers[t]=[e],this},e.prototype.compute=function(t,e){var r=this;return this.transform(t,function(t){return e(t,r),t})},e.prototype.set=function(e,r){var n=this,o=r,i=e;if(void 0!==this.transformers&&void 0!==this.transformers[i])for(var s=0;s<this.transformers[i].length;s++)o=n.transformers[i][s].call(n,o,n);return t.prototype.set.call(this,i,o),void 0!==this.observers&&this.observers.values().forEach(function(t){return t({key:i,value:o})}),this},e.prototype.remap=function(t,e){var r=this,n=t;return lt(t)||(n={},n[t]=e),Object.keys(n).forEach(function(t){return r.transform(t,function(e){return r.set(n[t],e),e})}),this},e}(t)},dt=function(t,e){return function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.validators=function(t){return this.set("validators",!0===this.has("validators")?S(this.get("validators"),t):t)},e.prototype.typed=function(t){var e=this;void 0===t&&(t=null);var r=new Et(this),n=r.prop("type").prop("name").prop("onInvalid").prop("onValid").chainUpDown(this.typed).chainUpDowns(["typed"]).onDone(function(t){e.extendTyped(t.name,t.type,t.onInvalid,t.onValid)});return q(t)?(n.name(t),n):O(t)?n.merge(t).end():n},e.prototype.extendTyped=function(t,e,r,n){var o=this;return void 0===r&&(r=null),void 0===n&&(n=null),this[t]=function(i){var s=function(){var r="[typof: "+typeof t+", name: "+t+"] was not of type "+e;return new TypeError(r)};null===r&&(r=function(t){throw s()});var u="string"==typeof e?o.get("validators")[e]:e;if("function"!=typeof u)throw new TypeError(u+" for "+e+" was not a function");var a=!0;return a=u(i),null===a||!0===a?(o.set(t,i),null!==n&&n(i,o,s())):r(i,o),o},this},e}(t)},vt=function(t){for(var e=t.split("."),r=[],n=0;n<e.length;n++){for(var o=e[n];"\\"===o[o.length-1]&&void 0!==e[n+1];)o=o.slice(0,-1)+".",o+=e[++n];r.push(o)}return r},gt={get:function(t,e,r){if(!lt(t)||"string"!=typeof e)return void 0===r?t:r;for(var n=vt(e),o=0;o<n.length;o++){if(!Object.prototype.propertyIsEnumerable.call(t,n[o]))return r;if(void 0===(t=t[n[o]])||null===t){if(o!==n.length-1)return r;break}}return t},set:function(t,e,r){if(!lt(t)||"string"!=typeof e)return t;for(var n=vt(e),o=0;o<n.length;o++){var i=n[o];lt(t[i])||(t[i]={}),o===n.length-1&&(t[i]=r),t=t[i]}},delete:function(t,e){if(!lt(t)||"string"!=typeof e)return t;for(var r=vt(e),n=0;n<r.length;n++){var o=r[n];if(n===r.length-1)return void delete t[o];if(t=t[o],!lt(t))return}},has:function(t,e){if(!lt(t)||"string"!=typeof e)return!1;for(var r=vt(e),n=0;n<r.length;n++){if(!lt(t))return!1;if(!(r[n]in t))return!1;t=t[r[n]]}return!0}},bt=function(t){return"string"==typeof t&&t.includes(".")},mt=function(t,e){return!1!==e._dot&&bt(t)},_t=function(t,e){return function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dot=function(t){return void 0===t&&(t=!0),this._dot=t,this},e.prototype.set=function(e,r){if(mt(e,this)){var n=e.split(".").shift();t.prototype.has.call(this,n)||t.prototype.set.call(this,n,{});var o=t.prototype.entries.call(this);return gt.set(o,e,r),t.prototype.set.call(this,n,o[n])}return t.prototype.set.call(this,e,r)},e.prototype.get=function(e){return mt(e,this)?gt.get(t.prototype.entries.call(this),e):t.prototype.get.call(this,e)},e.prototype.has=function(e){return mt(e,this)?gt.has(t.prototype.entries.call(this),e):t.prototype.has.call(this,e)},e.prototype.delete=function(e){return mt(e,this)?gt.delete(t.prototype.entries.call(this),e):t.prototype.delete.call(this,e)},e.prototype.dotter=function(t){var e=this;return void 0===t&&(t=null),null!==t?this._dotter(t):{name:function(t){return e._dotter(t)}}},e.prototype._dotter=function(t){var e,r={},n=bt(t),o=!!n&&vt(t),i=!!o&&o.shift();return r.dotted=function(s){return!1===n?r:(e=s(i,o,t),r)},r.otherwise=function(o){return!0===n?r:(e=o(t),r)},r.dotted.otherwise=r.otherwise,r.value=function(){return e},r},e}(t)},jt=function(t,e){return void 0===t&&(t=C),function(t){function e(e){t.call(this,e),e&&e.has&&e.has("debug")?this._debug=e.get("debug"):this.debug(!1)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(e){return"debug"===e?this._debug:t.prototype.get.call(this,e)},e.prototype.debug=function(t){return void 0===t&&(t=!0),this._debug=t,this},e.prototype.decorateParent=function(t){var e=this;return this.parent&&!this.parent.decorated&&(this.parent.decorated=this.parent.decorated||[]),t.forEach(function(t){var r=y(t),n=r.method,o=r.cb,i=r.returnee,s=r.key;(i||e.parent)&&(e.parent.decorated.push(n),e.parent[n]=function(t,r,u){var a;return(o=o||e[n])?a=o.call(e,t,r,u):e.set(s,t),i||a||e.parent||e})}),this},e.prototype.extendAlias=function(t,e,r){var n=this;return void 0===r&&(r=null),I(t).forEach(function(t){return n[t]=n[e].bind(r||n)}),this},e.prototype.extendWith=function(t,e){var r=this;void 0===e&&(e=void 0);var n=Array.isArray(t);return(n?t:Object.keys(t)).forEach(function(o){r.shorthands.push(o);var i=!1===n?t[o]:e;r[o]=function(t){return void 0===t&&(t=i),r.set(o,t)}}),this},e.prototype.extendIncrement=function(t){var e=this;return t.forEach(function(t){e.shorthands.push(t),e[t]=function(){var r=(e.get(t)||0)+1;return e.set(t,r),e}}),this},e}(t)};d.Extend=jt,d.Define=ot,d.Observe=ut,d.Shorthands=ct,d.Transform=yt,d.Types=dt,d.DotProp=dt;var Ot=d,Et=function(t){function e(e){t.call(this,e),this.data={},this.factory(),t.prototype.extend.call(this,["optional","required","chainUpDown"]).set("chainLength",0),this._calls=new B(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.chainUpDowns=function(t){var e=this;return t.forEach(function(t){e[t]=function(r,n,o,i,s){return e.end(),e.parent[t](r,n,o,i,s)}}),this},e.prototype.props=function(t){var e=this;return t.forEach(function(t){return e.prop(t)}),this},e.prototype.onDone=function(t){return this.set("onDone",t)},e.prototype.prop=function(t,e){var r=this;return void 0===e&&(e=null),this.tap("chainLength",function(t){return t+1}),void 0!==this[t]&&!0===this.has("chainUpDown")?(this.end(),this.get("chainUpDown")()[t](e)):(this[t]=function(n){return null===e?r.data[t]=n:e(n),r._calls.add(t),r._calls.length===r.get("chainLength")?r.end():r},this)},e.prototype.getData=function(t){return void 0===t&&(t=null),null===t?this.data:this.data[t]},e.prototype.factory=function(t){var e=this;return void 0===t&&(t={}),this.end=function(r){if(void 0!==t.end){var n=t.end(e.data,e.parent,e,r);if(n&&n!==e)return n}else if(e.has("onDone")){var o=e.get("onDone")(e.data,e.parent,e,r);if(o&&o!==e)return o}return e.parent},this},e}(Ot({extend:!0})),wt=Ot();return wt.init=function(t){return new wt(t)},wt.Chain=wt,wt.compose=Ot,wt.traverse=Y,wt.toArr=I,wt.camelCase=I,wt.dot=gt,wt.Chainable=j,wt.ChainedSet=B,wt.ChainedMap=C,wt.FactoryChain=Et,wt.MergeChain=D,wt.dopemerge=S,wt});
